<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CampusMate1 - 校园搭子系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 原有的 CSS 代码 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }

        :root {
            --primary: #4e54c8;
            --secondary: #8f94fb;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --border: #e0e0e0;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --panel-bg: rgba(255, 255, 255, 0.98);
        }

        body {
            background-color: #f5f7fb;
            color: #333;
            line-height: 1.6;
            padding-bottom: 70px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* 顶部导航 */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 8px;
        }

        .header-actions {
            display: flex;
            gap: 20px;
        }

        .filter-toggle,
        .notification-toggle {
            font-size: 1.2rem;
            cursor: pointer;
            position: relative;
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -8px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 筛选面板 */
        .filter-panel {
            position: fixed;
            top: 0;
            right: -320px;
            width: 320px;
            height: 100%;
            background-color: var(--panel-bg);
            z-index: 200;
            box-shadow: -2px 0 15px rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease;
            padding: 20px;
            overflow-y: auto;
        }

        .filter-panel.active {
            right: 0;
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .filter-title {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .close-filter {
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        .filter-section {
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .section-title i {
            margin-right: 8px;
            color: var(--primary);
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-tag {
            padding: 8px 15px;
            background-color: var(--light);
            border: 1px solid var(--border);
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-tag.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .filter-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .filter-grid .filter-tag {
            text-align: center;
        }

        .date-picker {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .date-input {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .filter-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .reset-btn,
        .confirm-btn {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        .reset-btn {
            background-color: var(--light);
            border: 1px solid var(--border);
            color: var(--dark);
        }

        .confirm-btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
        }

        /* 卡片列表 */
        .card-list {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 30px;
            margin-top: 20px;
        }

        .card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            margin-bottom: 3px;
            display: flex;
            align-items: center;
        }

        .campus-tag {
            font-size: 0.75rem;
            padding: 2px 8px;
            border-radius: 10px;
            margin-left: 8px;
            background-color: #e0e7ff;
            color: #4f46e5;
        }

        .user-signature {
            font-size: 0.9rem;
            color: var(--gray);
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .card-body {
            padding: 15px;
        }

        .activity-type {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-bottom: 12px;
            background-color: #e0f2fe;
            color: #0369a1;
        }

        .activity-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .activity-badge {
            display: inline-block;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background-color: var(--warning);
            margin-right: 8px;
        }

        .activity-badge.school {
            border-radius: 4px;
            background-color: var(--primary);
        }

        .activity-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }

        .detail-item {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }

        .detail-item i {
            margin-right: 8px;
            color: var(--primary);
            width: 20px;
            text-align: center;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }

        .tag {
            background-color: #e0e7ff;
            color: #4f46e5;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            padding: 10px 15px;
            border-top: 1px solid var(--border);
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            background: none;
            border: none;
            color: var(--gray);
            font-size: 0.9rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .action-btn:hover {
            color: var(--primary);
        }

        .connect-btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .connect-btn:hover {
            transform: scale(1.05);
        }

        /* 学院颜色定义 */
        .computer-science {
            background-color: #4e54c8;
            color: white;
        }

        .medical {
            background-color: #e74c3c;
            color: white;
        }

        .business {
            background-color: #f39c12;
            color: white;
        }

        .art {
            background-color: #9b59b6;
            color: white;
        }

        .material {
            background-color: #3498db;
            color: white;
        }

        .life-science {
            background-color: #1abc9c;
            color: white;
        }

        .construction {
            background-color: #e67e22;
            color: white;
        }

        .sports {
            background-color: #2ecc71;
            color: white;
        }

        .foreign {
            background-color: #9b59b6;
            color: white;
        }

        .international {
            background-color: #34495e;
            color: white;
        }

        .law {
            background-color: #16a085;
            color: white;
        }

        .chemical {
            background-color: #d35400;
            color: white;
        }

        .information {
            background-color: #2980b9;
            color: white;
        }

        .mechanical {
            background-color: #27ae60;
            color: white;
        }

        .medicine {
            background-color: #c0392b;
            color: white;
        }

        .science {
            background-color: #8e44ad;
            color: white;
        }

        .environment {
            background-color: #16a085;
            color: white;
        }

        .marxism {
            background-color: #e74c3c;
            color: white;
        }

        .hongkong {
            background-color: #f1c40f;
            color: white;
        }

        .automotive {
            background-color: #7f8c8d;
            color: white;
        }

        /* 底部导航 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.08);
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.8rem;
            color: var(--gray);
            cursor: pointer;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-item i {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        /* 模态框样式 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 300;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            padding: 15px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-body {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
        }

        .submit-btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            width: 100%;
            cursor: pointer;
            margin-top: 10px;
        }

        .contact-info {
            background-color: #e8f4ff;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border-left: 4px solid var(--primary);
        }

        .contact-title {
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .contact-title i {
            margin-right: 8px;
            color: var(--primary);
        }

        .contact-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            font-size: 0.95rem;
        }

        .contact-item i {
            margin-right: 8px;
            color: var(--primary);
            width: 20px;
            text-align: center;
        }

        /* 个人主页样式 */
        .profile-header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 15px 15px 0 0;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 15px;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
        }

        .profile-name {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .profile-campus {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .profile-info {
            padding: 20px;
        }

        .info-section {
            margin-bottom: 25px;
        }

        .info-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--border);
            padding-bottom: 8px;
        }

        .info-title i {
            margin-right: 10px;
            color: var(--primary);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .info-item {
            display: flex;
            align-items: center;
        }

        .info-label {
            font-weight: 600;
            margin-right: 8px;
            min-width: 60px;
        }

        .info-value {
            flex: 1;
        }

        .tag-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .profile-tag {
            background-color: #e0e7ff;
            color: #4f46e5;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        /* 评论样式 */
        .comments {
            padding: 15px;
            border-top: 1px solid var(--border);
        }

        .comment {
            display: flex;
            margin-bottom: 15px;
        }

        .comment-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .comment-content {
            flex: 1;
        }

        .comment-author {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .comment-text {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .add-comment {
            display: flex;
            gap: 10px;
        }

        .add-comment input {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .add-comment button {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .add-comment button:hover {
            transform: scale(1.05);
        }

        /* 响应式设计 */
        @media (max-width: 576px) {
            .filter-panel {
                width: 85%;
            }

            .filter-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .activity-details {
                grid-template-columns: 1fr;
            }

            .date-picker {
                flex-direction: column;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
<!-- 顶部导航 -->
<header class="header">
    <div class="logo">
        <i class="fas fa-handshake"></i>
        CampusMate1
    </div>
    <div class="header-actions">
        <div class="filter-toggle" id="filterToggle">
            <i class="fas fa-filter"></i>
        </div>
        <div class="notification-toggle" id="notificationToggle">
            <i class="fas fa-bell"></i>
            <span class="badge">3</span>
        </div>
    </div>
</header>

<!-- 筛选面板 -->
<div class="filter-panel" id="filterPanel">
    <div class="filter-header">
        <h3 class="filter-title">筛选条件</h3>
        <div class="close-filter" id="closeFilter">
            <i class="fas fa-times"></i>
        </div>
    </div>

    <!-- 校区筛选 -->
    <div class="filter-section">
        <h4 class="section-title">
            <i class="fas fa-map-marker-alt"></i>
            校区
        </h4>
        <div class="filter-tags">
            <div class="filter-tag active">全部校区</div>
            <div class="filter-tag">黄家湖</div>
            <div class="filter-tag">洪山</div>
            <div class="filter-tag">青山</div>
        </div>
    </div>

    <!-- 学院筛选 -->
    <div class="filter-section">
        <h4 class="section-title">
            <i class="fas fa-graduation-cap"></i>
            学院
        </h4>
        <div class="filter-grid">
            <div class="filter-tag">全部学院</div>
            <div class="filter-tag">材料与冶金学院</div>
            <div class="filter-tag">生命科学与健康学院</div>
            <div class="filter-tag">城市建设学院</div>
            <div class="filter-tag">体育学院</div>
            <div class="filter-tag">恒大管理学院</div>
            <div class="filter-tag">外国语学院</div>
            <div class="filter-tag">国际学院</div>
            <div class="filter-tag">文法与经济学院</div>
            <div class="filter-tag">化学与化工学院</div>
            <div class="filter-tag">信息科学与工程学院</div>
            <div class="filter-tag">机械自动化学院</div>
            <div class="filter-tag">医学院</div>
            <div class="filter-tag">计算机科学与技术学院</div>
            <div class="filter-tag">艺术与设计学院</div>
            <div class="filter-tag">理学院</div>
            <div class="filter-tag">资源与环境工程学院</div>
            <div class="filter-tag">马克思主义学院</div>
            <div class="filter-tag">香港学院</div>
            <div class="filter-tag">汽车与交通工程学院</div>
        </div>
    </div>

    <!-- 时间筛选 -->
    <div class="filter-section">
        <h4 class="section-title">
            <i class="fas fa-calendar-alt"></i>
            日期范围
        </h4>
        <div class="date-picker">
            <input type="date" class="date-input" id="startDate">
            <input type="date" class="date-input" id="endDate">
        </div>

        <h4 class="section-title">
            <i class="fas fa-clock"></i>
            星期
        </h4>
        <div class="filter-tags">
            <div class="filter-tag">周一</div>
            <div class="filter-tag">周二</div>
            <div class="filter-tag">周三</div>
            <div class="filter-tag">周四</div>
            <div class="filter-tag">周五</div>
            <div class="filter-tag">周六</div>
            <div class="filter-tag">周日</div>
        </div>

        <h4 class="section-title">
            <i class="fas fa-sun"></i>
            时间段
        </h4>
        <div class="filter-tags">
            <div class="filter-tag">早上(6:00-12:00)</div>
            <div class="filter-tag">中午(12:00-14:00)</div>
            <div class="filter-tag">下午(14:00-18:00)</div>
            <div class="filter-tag">晚上(18:00-22:00)</div>
            <div class="filter-tag">深夜(22:00以后)</div>
        </div>
    </div>

    <!-- 类型筛选 -->
    <div class="filter-section">
        <h4 class="section-title">
            <i class="fas fa-tags"></i>
            搭子类型
        </h4>
        <div class="filter-tags">
            <div class="filter-tag active">全部类型</div>
            <div class="filter-tag">休闲娱乐</div>
            <div class="filter-tag">学习互助</div>
            <div class="filter-tag">技能合作</div>
            <div class="filter-tag">运动健身</div>
            <div class="filter-tag">实践活动</div>
            <div class="filter-tag">其他</div>
        </div>
    </div>

    <div class="filter-actions">
        <button class="reset-btn">重置</button>
        <button class="confirm-btn">确定</button>
    </div>
</div>

<!-- 搭子卡片列表 -->
<main class="container">
    <div class="card-list">
        <!-- 卡片 1 -->
        <div class="card">
            <div class="card-header" data-user="1">
                <div class="user-avatar computer-science">计</div>
                <div class="user-info">
                    <div class="user-name">
                        张同学
                        <span class="campus-tag">黄家湖</span>
                    </div>
                    <div class="user-signature">喜欢探索美食和电影，性格开朗</div>
                </div>
            </div>
            <div class="card-body">
                <div class="activity-type">休闲娱乐 · 吃美食</div>
                <h3 class="activity-title">
                    <span class="activity-badge"></span>
                    寻找一起探店的小伙伴
                </h3>
                <p>最近学校附近新开了几家餐厅，想找小伙伴一起去尝试，AA制，喜欢美食的朋友快来！</p>

                <div class="activity-details">
                    <div class="detail-item">
                        <i class="fas fa-clock"></i>
                        周五晚上 18:30
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        校门口美食街
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-user-friends"></i>
                        2-4人
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-hourglass-end"></i>
                        本周有效
                    </div>
                </div>

                <div class="tags">
                    <span class="tag">美食探店</span>
                    <span class="tag">AA制</span>
                    <span class="tag">聊天交友</span>
                </div>
            </div>
            <div class="card-footer">
                <button class="action-btn">
                    <i class="far fa-heart"></i> 56
                </button>
                <button class="action-btn">
                    <i class="far fa-bookmark"></i> 收藏
                </button>
                <button class="connect-btn" data-id="1">
                    <i class="fas fa-comment-alt"></i> 申请搭子
                </button>
            </div>
            <div class="comments">
                <div class="comment">
                    <div class="comment-avatar">李</div>
                    <div class="comment-content">
                        <div class="comment-author">李同学</div>
                        <div class="comment-text">听起来很不错，我也喜欢美食！</div>
                    </div>
                </div>
                <div class="add-comment">
                    <input type="text" placeholder="发表评论">
                    <button>评论</button>
                </div>
            </div>
        </div>

        <!-- 卡片 2 -->
        <div class="card">
            <div class="card-header" data-user="2">
                <div class="user-avatar medical">医</div>
                <div class="user-info">
                    <div class="user-name">
                        李同学
                        <span class="campus-tag">洪山</span>
                    </div>
                    <div class="user-signature">自律健身爱好者，寻找晨跑伙伴</div>
                </div>
            </div>
            <div class="card-body">
                <div class="activity-type">运动健身 · 跑步</div>
                <h3 class="activity-title">
                    <span class="activity-badge school"></span>
                    晨跑搭子招募（校级活动）
                </h3>
                <p>寻找能坚持晨跑的伙伴，每天早上6:30-7:00，操场5圈起，互相监督，共同进步！</p>

                <div class="activity-details">
                    <div class="detail-item">
                        <i class="fas fa-clock"></i>
                        周一至周五 6:30
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        东区操场
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-user-friends"></i>
                        5-10人
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-hourglass-end"></i>
                        12月15日截止
                    </div>
                </div>

                <div class="tags">
                    <span class="tag">晨跑</span>
                    <span class="tag">健身</span>
                    <span class="tag">自律</span>
                </div>
            </div>
            <div class="card-footer">
                <button class="action-btn">
                    <i class="far fa-heart"></i> 112
                </button>
                <button class="action-btn">
                    <i class="far fa-bookmark"></i> 收藏
                </button>
                <button class="connect-btn" data-id="2">
                    <i class="fas fa-comment-alt"></i> 申请搭子
                </button>
            </div>
            <div class="comments">
                <div class="comment">
                    <div class="comment-avatar">王</div>
                    <div class="comment-content">
                        <div class="comment-author">王同学</div>
                        <div class="comment-text">我每天都晨跑，算我一个！</div>
                    </div>
                </div>
                <div class="add-comment">
                    <input type="text" placeholder="发表评论">
                    <button>评论</button>
                </div>
            </div>
        </div>

        <!-- 卡片 3 -->
        <div class="card">
            <div class="card-header" data-user="3">
                <div class="user-avatar business">商</div>
                <div class="user-info">
                    <div class="user-name">
                        王同学
                        <span class="campus-tag">青山</span>
                    </div>
                    <div class="user-signature">备考英语六级，寻找学习伙伴</div>
                </div>
            </div>
            <div class="card-body">
                <div class="activity-type">学习互助 · 一起学习</div>
                <h3 class="activity-title">
                    <span class="activity-badge"></span>
                    英语六级备考小组
                </h3>
                <p>组建英语六级备考小组，每天图书馆学习2小时，互相监督，分享资料，目标一次过！</p>

                <div class="activity-details">
                    <div class="detail-item">
                        <i class="fas fa-clock"></i>
                        周二、四 19:00-21:00
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        图书馆3楼
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-user-friends"></i>
                        3-5人
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-hourglass-end"></i>
                        长期有效
                    </div>
                </div>

                <div class="tags">
                    <span class="tag">英语六级</span>
                    <span class="tag">学习小组</span>
                    <span class="tag">互相监督</span>
                </div>
            </div>
            <div class="card-footer">
                <button class="action-btn">
                    <i class="far fa-heart"></i> 89
                </button>
                <button class="action-btn">
                    <i class="far fa-bookmark"></i> 收藏
                </button>
                <button class="connect-btn" data-id="3">
                    <i class="fas fa-comment-alt"></i> 申请搭子
                </button>
            </div>
            <div class="comments">
                <div class="comment">
                    <div class="comment-avatar">赵</div>
                    <div class="comment-content">
                        <div class="comment-author">赵同学</div>
                        <div class="comment-text">我也在备考六级，求加入！</div>
                    </div>
                </div>
                <div class="add-comment">
                    <input type="text" placeholder="发表评论">
                    <button>评论</button>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- 底部导航 -->
<nav class="bottom-nav">
    <div class="nav-item active">
        <i class="fas fa-home"></i>
        <span>首页</span>
    </div>
    <div class="nav-item">
        <i class="fas fa-plus"></i>
        <span>发布</span>
    </div>
    <div class="nav-item">
        <i class="fas fa-user"></i>
        <span>我的</span>
    </div>
</nav>

<!-- 申请模态框 -->
<div class="modal" id="applicationModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">申请成为搭子</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>申请理由</label>
                <textarea class="form-control" rows="4"
                          placeholder="请简单说明申请原因，如共同兴趣、时间安排等..."></textarea>
            </div>
            <button class="submit-btn">提交申请</button>

            <div class="contact-info">
                <div class="contact-title">
                    <i class="fas fa-info-circle"></i>
                    被申请人联系方式
                </div>
                <p style="margin-bottom: 15px; font-size: 0.9rem;">申请通过后，你可以通过以下方式联系对方：</p>
                <div class="contact-details">
                    <div class="contact-item">
                        <i class="fab fa-weixin"></i>
                        <span>微信: study2023</span>
                    </div>
                    <div class="contact-item">
                        <i class="fab fa-qq"></i>
                        <span>QQ: 123456789</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>电话: 135****1234</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>邮箱: student@edu.cn</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 个人主页模态框 -->
<div class="modal" id="profileModal">
    <div class="modal-content">
        <div class="profile-header">
            <div class="profile-avatar computer-science" id="profileAvatar">计</div>
            <h2 class="profile-name" id="profileName">张同学</h2>
            <div class="profile-campus" id="profileCampus">计算机科学与技术学院 · 黄家湖校区</div>
        </div>

        <div class="profile-info">
            <div class="info-section">
                <h3 class="info-title">
                    <i class="fas fa-user"></i>
                    基本信息
                </h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">性别:</span>
                        <span class="info-value">男</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">年级:</span>
                        <span class="info-value">大三</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">专业:</span>
                        <span class="info-value">计算机科学与技术</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">学号:</span>
                        <span class="info-value">2020114512</span>
                    </div>
                </div>
            </div>

            <div class="info-section">
                <h3 class="info-title">
                    <i class="fas fa-heart"></i>
                    兴趣爱好
                </h3>
                <div class="tag-list">
                    <span class="profile-tag">美食探店</span>
                    <span class="profile-tag">电影</span>
                    <span class="profile-tag">摄影</span>
                    <span class="profile-tag">旅行</span>
                    <span class="profile-tag">桌游</span>
                </div>
            </div>

            <div class="info-section">
                <h3 class="info-title">
                    <i class="fas fa-star"></i>
                    技能特长
                </h3>
                <div class="tag-list">
                    <span class="profile-tag">Python编程</span>
                    <span class="profile-tag">摄影后期</span>
                    <span class="profile-tag">视频剪辑</span>
                </div>
            </div>

            <div class="info-section">
                <h3 class="info-title">
                    <i class="fas fa-eye"></i>
                    信息展示设置
                </h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">姓名:</span>
                        <input type="checkbox" checked>
                    </div>
                    <div class="info-item">
                        <span class="info-label">学号:</span>
                        <input type="checkbox" checked>
                    </div>
                    <div class="info-item">
                        <span class="info-label">学院:</span>
                        <input type="checkbox" checked>
                    </div>
                </div>
            </div>

            <button class="submit-btn">保存信息</button>
        </div>
    </div>
</div>

<!-- 通知模态框 -->
<div class="modal" id="notificationModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">申请名单</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <ul>
                <li>李同学申请成为你的搭子</li>
                <li>王同学申请成为你的搭子</li>
                <li>赵同学申请成为你的搭子</li>
            </ul>
        </div>
    </div>
</div>

<!-- 发布模态框 -->
<div class="modal" id="publishModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">发布搭子信息</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>活动类型</label>
                <input type="text" class="form-control" placeholder="如：休闲娱乐 · 吃美食">
            </div>
            <div class="form-group">
                <label>活动标题</label>
                <input type="text" class="form-control" placeholder="如：寻找一起探店的小伙伴">
            </div>
            <div class="form-group">
                <label>活动详情</label>
                <textarea class="form-control" rows="4" placeholder="请详细描述活动内容..."></textarea>
            </div>
            <div class="form-group">
                <label>活动时间</label>
                <input type="text" class="form-control" placeholder="如：周五晚上 18:30">
            </div>
            <div class="form-group">
                <label>活动地点</label>
                <input type="text" class="form-control" placeholder="如：校门口美食街">
            </div>
            <div class="form-group">
                <label>人数要求</label>
                <input type="text" class="form-control" placeholder="如：2-4人">
            </div>
            <div class="form-group">
                <label>有效期限</label>
                <input type="text" class="form-control" placeholder="如：本周有效">
            </div>
            <button class="submit-btn">发布</button>
        </div>
    </div>
</div>

<script>
    // ========== 全局用户ID（模拟，实际应由登录系统赋值） ==========
    const CURRENT_USER_ID = 1;

    // ========== 动态渲染活动卡片 ==========
    function renderActivities(activities) {
        const cardList = document.querySelector('.card-list');
        cardList.innerHTML = '';
        activities.forEach(activity => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                        <div class="card-header" data-user="${activity.userId}">
                            <div class="user-avatar">${activity.college ? activity.college[0] : '校'}</div>
                            <div class="user-info">
                                <div class="user-name">
                                    ${activity.userName || '匿名'}
                                    <span class="campus-tag">${activity.campus || ''}</span>
                                </div>
                                <div class="user-signature">${activity.signature || ''}</div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="activity-type">${activity.type || ''}</div>
                            <h3 class="activity-title">
                                <span class="activity-badge"></span>
                                ${activity.title || ''}
                            </h3>
                            <p>${activity.detail || ''}</p>
                            <div class="activity-details">
                                <div class="detail-item"><i class="fas fa-clock"></i>${activity.time || ''}</div>
                                <div class="detail-item"><i class="fas fa-map-marker-alt"></i>${activity.location || ''}</div>
                                <div class="detail-item"><i class="fas fa-user-friends"></i>${activity.peopleLimit || ''}</div>
                                <div class="detail-item"><i class="fas fa-hourglass-end"></i>${activity.expire || ''}</div>
                            </div>
                            <div class="tags">
                                ${(activity.tags || []).map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </div>
                        </div>
                        <div class="card-footer">
                            <button class="action-btn"><i class="far fa-heart"></i> ${activity.likeCount || 0}</button>
                            <button class="action-btn"><i class="far fa-bookmark"></i> 收藏</button>
                            <button class="connect-btn" data-id="${activity.id}"><i class="fas fa-comment-alt"></i> 申请搭子</button>
                        </div>
                        <div class="comments" data-activity-id="${activity.id}"></div>
                    `;
            cardList.appendChild(card);
            // 渲染评论
            fetchComments(activity.id, card.querySelector('.comments'));
        });
        bindCardEvents();
    }

    // ========== 获取活动列表 ==========
    function loadActivities() {
        fetch('/api/activities')
            .then(res => res.json())
            .then(resp => {
                if (resp.code === 0) {
                    renderActivities(resp.data);
                } else {
                    alert(resp.msg);
                }
            });
    }

    // ========== 评论功能 ==========
    function fetchComments(activityId, commentsContainer) {
        fetch(`/api/comments/activity/${activityId}`)
            .then(res => res.json())
            .then(resp => {
                if (resp.code === 0) {
                    commentsContainer.innerHTML = resp.data.map(comment => `
                                <div class="comment">
                                    <div class="comment-avatar">${comment.userName ? comment.userName[0] : '匿'}</div>
                                    <div class="comment-content">
                                        <div class="comment-author">${comment.userName || '匿名'}</div>
                                        <div class="comment-text">${comment.content}</div>
                                    </div>
                                </div>
                            `).join('') + `
                                <div class="add-comment">
                                    <input type="text" placeholder="发表评论">
                                    <button onclick="addComment(${activityId}, this)">评论</button>
                                </div>
                            `;
                }
            });
    }

    function addComment(activityId, btn) {
        const input = btn.previousElementSibling;
        const content = input.value;
        if (!content) return;
        fetch('/api/comments', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                activityId,
                userId: CURRENT_USER_ID,
                content
            })
        })
            .then(res => res.json())
            .then(resp => {
                if (resp.code === 0) {
                    fetchComments(activityId, btn.closest('.comments'));
                    input.value = '';
                } else {
                    alert(resp.msg);
                }
            });
    }

    // ========== 发布活动功能 ==========
    document.addEventListener('DOMContentLoaded', function () {
        // 筛选面板显示与隐藏
        const filterToggle = document.getElementById('filterToggle');
        const filterPanel = document.getElementById('filterPanel');
        const closeFilter = document.getElementById('closeFilter');

        filterToggle.addEventListener('click', function () {
            filterPanel.classList.add('active');
        });

        closeFilter.addEventListener('click', function () {
            filterPanel.classList.remove('active');
        });

        // 申请模态框显示与隐藏
        const connectBtns = document.querySelectorAll('.connect-btn');
        const applicationModal = document.getElementById('applicationModal');
        const closeApplicationModal = applicationModal.querySelector('.close-modal');

        connectBtns.forEach(btn => {
            btn.addEventListener('click', function () {
                applicationModal.style.display = 'flex';
            });
        });

        closeApplicationModal.addEventListener('click', function () {
            applicationModal.style.display = 'none';
        });

        // 个人主页模态框显示与隐藏
        const userHeaders = document.querySelectorAll('.card-header');
        const profileModal = document.getElementById('profileModal');
        const closeProfileModal = profileModal.querySelector('.close-modal');

        userHeaders.forEach(header => {
            header.addEventListener('click', function () {
                profileModal.style.display = 'flex';
            });
        });

        closeProfileModal.addEventListener('click', function () {
            profileModal.style.display = 'none';
        });


        // 通知模态框显示与隐藏
        const notificationToggle = document.getElementById('notificationToggle');
        const notificationModal = document.getElementById('notificationModal');
        const closeNotificationModal = notificationModal.querySelector('.close-modal');

        notificationToggle.addEventListener('click', function () {
            notificationModal.style.display = 'flex';
        });

        closeNotificationModal.addEventListener('click', function () {
            notificationModal.style.display = 'none';
        });

        // 发布模态框显示与隐藏
        const publishNavItem = document.querySelector('.bottom-nav .nav-item:nth-child(2)');
        const publishModal = document.getElementById('publishModal');
        const closePublishModal = publishModal.querySelector('.close-modal');

        publishNavItem.addEventListener('click', function () {
            publishModal.style.display = 'flex';
        });

        closePublishModal.addEventListener('click', function () {
            publishModal.style.display = 'none';
        });

        // 发布活动
        document.querySelector('#publishModal .submit-btn').onclick = function() {
            const modal = document.getElementById('publishModal');
            const inputs = modal.querySelectorAll('.form-control');
            const [type, title, detail, time, location, peopleLimit, expire] = Array.from(inputs).map(i => i.value);
            fetch('/api/activities', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ type, title, detail, time, location, peopleLimit, expire, userId: CURRENT_USER_ID })
            })
                .then(res => res.json())
                .then(resp => {
                    if (resp.code === 0) {
                        alert('发布成功');
                        modal.style.display = 'none';
                        loadActivities();
                    } else {
                        alert(resp.msg);
                    }
                });
        };

        // 页面初始化加载活动
        loadActivities();
    });

    // ========== 个人信息获取与保存 ==========
    function loadUserInfo(userId) {
        fetch(`/api/user/${userId}`)
            .then(res => res.json())
            .then(resp => {
                if (resp.code === 0) {
                    // TODO: 填充到个人信息模态框
                }
            });
    }
    document.querySelector('#profileModal .submit-btn').onclick = function() {
        const userId = CURRENT_USER_ID;
        // TODO: 获取表单内容
        const userInfo = {};
        fetch(`/api/user/${userId}`, {
            method: 'PUT',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(userInfo)
        })
            .then(res => res.json())
            .then(resp => {
                if (resp.code === 0) {
                    alert('保存成功');
                } else {
                    alert(resp.msg);
                }
            });
    };

    // ========== 通知获取 ==========
    function loadNotifications(userId) {
        fetch(`/api/notifications?userId=${userId}`)
            .then(res => res.json())
            .then(resp => {
                if (resp.code === 0) {
                    // TODO: 渲染通知到通知模态框
                }
            });
    }

    // ========== 卡片事件绑定 ==========
    function bindCardEvents() {
        // 申请搭子按钮
        document.querySelectorAll('.connect-btn').forEach(btn => {
            btn.onclick = function() {
                document.getElementById('applicationModal').style.display = 'flex';
            };
        });
        // 个人主页
        document.querySelectorAll('.card-header').forEach(header => {
            header.onclick = function() {
                document.getElementById('profileModal').style.display = 'flex';
            };
        });
    }
</script>
</body>
</html>